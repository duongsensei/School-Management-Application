<!--<p>student-add works!</p>-->
<div class="student-add-page">
  <!-- Page Header -->
  <div class="page-header">
    <button class="back-btn" type="button" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      <span>Back</span>
    </button>
    <div class="header-title">
      <h1>Add New Student</h1>
      <p>Create a new student record</p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="content-wrapper">
    <form (ngSubmit)="onSubmit()" #studentForm="ngForm" class="student-form">
      
      <!-- Profile Section -->
      <div class="form-section">
        <div class="section-header">
          <mat-icon>person_add</mat-icon>
          <h3>Profile Information</h3>
        </div>
        <div class="section-content">
          <!-- Image Upload -->
          <div class="image-upload-section">
            <div class="current-image">
              <img [src]="students.imageUpload?.imageData || students.imagePath || '/assets/images/default-avatar.svg'" 
                   alt="Student Photo" 
                   class="student-photo"
                   onerror="this.src='/assets/images/default-avatar.svg'">
            </div>
            <div class="upload-controls">
              <label for="imageInput" class="upload-btn">
                <mat-icon>camera_alt</mat-icon>
                <span>Upload Photo</span>
              </label>
              <input type="file" 
                     id="imageInput"
                     #imageInput
                     (change)="uploadImage(imageInput)"
                     accept="image/*"
                     [multiple]="false"
                     style="display: none;" />
              <p class="upload-hint">JPG, PNG or GIF (max 2MB)</p>
              <p class="current-file" *ngIf="students.imageUpload?.imageName">
                Selected: {{ students.imageUpload.imageName }}
              </p>
            </div>
          </div>

          <!-- Basic Info Grid -->
          <div class="form-grid">
            <div class="form-group">
              <label for="studentName" class="required">Full Name</label>
              <input type="text" 
                     class="form-control" 
                     id="studentName" 
                     name="studentName" 
                     [(ngModel)]="students.studentName" 
                     required
                     placeholder="Enter full name">
            </div>

            <div class="form-group">
              <label for="studentDOB" class="required">Date of Birth</label>
              <input type="date" 
                     class="form-control" 
                     id="studentDOB" 
                     name="studentDOB" 
                     [(ngModel)]="students.studentDOB" 
                     required>
            </div>

            <div class="form-group">
              <label for="studentGender" class="required">Gender</label>
              <select class="form-control" 
                      id="studentGender" 
                      name="studentGender" 
                      [(ngModel)]="students.studentGender" 
                      required>
                <option value="" disabled>Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="studentReligion">Religion</label>
              <input type="text" 
                     class="form-control" 
                     id="studentReligion" 
                     name="studentReligion" 
                     [(ngModel)]="students.studentReligion"
                     placeholder="Enter religion">
            </div>

            <div class="form-group">
              <label for="studentBloodGroup">Blood Group</label>
              <select class="form-control" 
                      id="studentBloodGroup" 
                      name="studentBloodGroup" 
                      [(ngModel)]="students.studentBloodGroup">
                <option value="">Select Blood Group</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
            </div>

            <div class="form-group">
              <label for="studentNationality">Nationality</label>
              <input type="text" 
                     class="form-control" 
                     id="studentNationality" 
                     name="studentNationality" 
                     [(ngModel)]="students.studentNationality"
                     placeholder="Enter nationality">
            </div>

            <div class="form-group">
              <label for="studentNIDNumber">NID Number</label>
              <input type="text" 
                     class="form-control" 
                     id="studentNIDNumber" 
                     name="studentNIDNumber" 
                     [(ngModel)]="students.studentNIDNumber"
                     placeholder="Enter NID number">
            </div>
          </div>
        </div>
      </div>

      <!-- Academic Information -->
      <div class="form-section">
        <div class="section-header">
          <mat-icon>school</mat-icon>
          <h3>Academic Information</h3>
        </div>
        <div class="section-content">
          <div class="form-grid">
            <div class="form-group">
              <label for="standardId" class="required">Class/Standard</label>
              <select class="form-control" 
                      id="standardId" 
                      name="standardId" 
                      [(ngModel)]="students.standardId" 
                      required>
                <option value="" disabled>Select Standard</option>
                <option *ngFor="let standard of standards" [value]="standard.standardId">
                  {{ standard.standardName }}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label for="admissionNo" class="required">Admission Number</label>
              <input type="text" 
                     class="form-control" 
                     id="admissionNo" 
                     name="admissionNo" 
                     [(ngModel)]="students.admissionNo" 
                     required
                     placeholder="Enter admission number">
            </div>

            <div class="form-group">
              <label for="enrollmentNo" class="required">Enrollment Number</label>
              <input type="text" 
                     class="form-control" 
                     id="enrollmentNo" 
                     name="enrollmentNo" 
                     [(ngModel)]="students.enrollmentNo" 
                     required
                     placeholder="Enter enrollment number">
            </div>

            <div class="form-group">
              <label for="uniqueStudentAttendanceNumber">Attendance Number</label>
              <input type="text" 
                     class="form-control" 
                     id="uniqueStudentAttendanceNumber" 
                     name="uniqueStudentAttendanceNumber" 
                     [(ngModel)]="students.uniqueStudentAttendanceNumber"
                     placeholder="Enter attendance number">
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="form-section">
        <div class="section-header">
          <mat-icon>contact_phone</mat-icon>
          <h3>Contact Information</h3>
        </div>
        <div class="section-content">
          <div class="form-grid">
            <div class="form-group">
              <label for="studentEmail">Email Address</label>
              <input type="email" 
                     class="form-control" 
                     id="studentEmail" 
                     name="studentEmail" 
                     [(ngModel)]="students.studentEmail"
                     placeholder="Enter email address">
            </div>

            <div class="form-group">
              <label for="studentContactNumber1">Primary Contact</label>
              <input type="tel" 
                     class="form-control" 
                     id="studentContactNumber1" 
                     name="studentContactNumber1" 
                     [(ngModel)]="students.studentContactNumber1"
                     placeholder="Enter primary contact number">
            </div>

            <div class="form-group">
              <label for="studentContactNumber2">Secondary Contact</label>
              <input type="tel" 
                     class="form-control" 
                     id="studentContactNumber2" 
                     name="studentContactNumber2" 
                     [(ngModel)]="students.studentContactNumber2"
                     placeholder="Enter secondary contact number">
            </div>
          </div>

          <div class="form-grid">
            <div class="form-group full-width">
              <label for="permanentAddress">Permanent Address</label>
              <textarea class="form-control" 
                        id="permanentAddress" 
                        name="permanentAddress" 
                        [(ngModel)]="students.permanentAddress"
                        rows="3"
                        placeholder="Enter permanent address"></textarea>
            </div>

            <div class="form-group full-width">
              <label for="temporaryAddress">Temporary Address</label>
              <textarea class="form-control" 
                        id="temporaryAddress" 
                        name="temporaryAddress" 
                        [(ngModel)]="students.temporaryAddress"
                        rows="3"
                        placeholder="Enter temporary address"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Family Information -->
      <div class="form-section">
        <div class="section-header">
          <mat-icon>family_restroom</mat-icon>
          <h3>Family Information</h3>
        </div>
        <div class="section-content">
          <!-- Father's Information -->
          <div class="family-subsection">
            <h4>Father's Information</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="fatherName">Father's Name</label>
                <input type="text" 
                       class="form-control" 
                       id="fatherName" 
                       name="fatherName" 
                       [(ngModel)]="students.fatherName"
                       placeholder="Enter father's name">
              </div>

              <div class="form-group">
                <label for="fatherNID">Father's NID</label>
                <input type="text" 
                       class="form-control" 
                       id="fatherNID" 
                       name="fatherNID" 
                       [(ngModel)]="students.fatherNID"
                       placeholder="Enter father's NID">
              </div>

              <div class="form-group">
                <label for="fatherContactNumber">Father's Contact</label>
                <input type="tel" 
                       class="form-control" 
                       id="fatherContactNumber" 
                       name="fatherContactNumber" 
                       [(ngModel)]="students.fatherContactNumber"
                       placeholder="Enter father's contact number">
              </div>
            </div>
          </div>

          <!-- Mother's Information -->
          <div class="family-subsection">
            <h4>Mother's Information</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="motherName">Mother's Name</label>
                <input type="text" 
                       class="form-control" 
                       id="motherName" 
                       name="motherName" 
                       [(ngModel)]="students.motherName"
                       placeholder="Enter mother's name">
              </div>

              <div class="form-group">
                <label for="motherNID">Mother's NID</label>
                <input type="text" 
                       class="form-control" 
                       id="motherNID" 
                       name="motherNID" 
                       [(ngModel)]="students.motherNID"
                       placeholder="Enter mother's NID">
              </div>

              <div class="form-group">
                <label for="motherContactNumber">Mother's Contact</label>
                <input type="tel" 
                       class="form-control" 
                       id="motherContactNumber" 
                       name="motherContactNumber" 
                       [(ngModel)]="students.motherContactNumber"
                       placeholder="Enter mother's contact number">
              </div>
            </div>
          </div>

          <!-- Local Guardian Information -->
          <div class="family-subsection">
            <h4>Local Guardian Information</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="localGuardianName">Guardian's Name</label>
                <input type="text" 
                       class="form-control" 
                       id="localGuardianName" 
                       name="localGuardianName" 
                       [(ngModel)]="students.localGuardianName"
                       placeholder="Enter guardian's name">
              </div>

              <div class="form-group">
                <label for="localGuardianContactNumber">Guardian's Contact</label>
                <input type="tel" 
                       class="form-control" 
                       id="localGuardianContactNumber" 
                       name="localGuardianContactNumber" 
                       [(ngModel)]="students.localGuardianContactNumber"
                       placeholder="Enter guardian's contact number">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-section">
        <button type="button" class="action-btn secondary" (click)="goBack()">
          <mat-icon>cancel</mat-icon>
          <span>Cancel</span>
        </button>
        <button type="submit" class="action-btn primary" [disabled]="!studentForm.valid">
          <mat-icon>person_add</mat-icon>
          <span>Add Student</span>
        </button>
      </div>
    </form>
  </div>
</div>
